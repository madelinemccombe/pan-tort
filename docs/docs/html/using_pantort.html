

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using pan-tort &mdash; pan-tort 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Interpreting the Results" href="output_results.html" />
    <link rel="prev" title="Prerequisites and Installation" href="installation.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pan-tort
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Prerequisites and Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using pan-tort</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-a-query">Running a query</a></li>
<li class="toctree-l2"><a class="reference internal" href="#viewing-the-results">Viewing the results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary-stats">Summary Stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kibana-dashboard">Kibana dashboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-json-output">Text json output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output_results.html">Interpreting the Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Using the Kibana dashboard and Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_history.html">Release History</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pan-tort</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Using pan-tort</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/using_pantort.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-pan-tort">
<h1>Using pan-tort<a class="headerlink" href="#using-pan-tort" title="Permalink to this headline">¶</a></h1>
<p>The prior installation steps ensure pan-tort is ready to run and can community with Autofocus.</p>
<div class="section" id="running-a-query">
<h2>Running a query<a class="headerlink" href="#running-a-query" title="Permalink to this headline">¶</a></h2>
<p>To run a query with the existing hash list, run hash_data_plus.py. You will be prompted for a
name to use for this query. This name is used to filter results in Kibana and to append to
the json output files for easy reference.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python hash_data_plus.py
Enter brief tag name for this data: some tag for this query
</pre></div>
</div>
<p>At this point pan-tort will run in 2 stages:</p>
<blockquote>
<div><ul class="simple">
<li>Initial Autofocus sample search to get verdict, file type, and malware data</li>
<li>Per-hash signature coverage search for each hash found in Autofocus</li>
</ul>
</div></blockquote>
<p>The intial sample search will send up to 1,000 samples per query and capture responses.
This search should only take 1-2 minutes for smaller hash list sizes.</p>
<p>Signature coverage queries are 1 sample per lookup and take approximately 3-8 seconds based
on response time.</p>
<p>A 100 sample run can take from 5-10 minutes on average.</p>
</div>
<div class="section" id="viewing-the-results">
<h2>Viewing the results<a class="headerlink" href="#viewing-the-results" title="Permalink to this headline">¶</a></h2>
<div class="section" id="summary-stats">
<h3>Summary Stats<a class="headerlink" href="#summary-stats" title="Permalink to this headline">¶</a></h3>
<p>If running from a terminal console, at the end of the run, a short summary of key stats is shown.</p>
<img alt="_images/summary_stats.png" src="_images/summary_stats.png" />
<p>Values in the summary stats:</p>
<blockquote>
<div><ul>
<li><p class="first">Total samples queried: the number of hashes in the input list</p>
</li>
<li><p class="first">Samples not found in Autofocus: the hash value is not found in Autofocus</p>
</li>
<li><p class="first">Verdicts: based on Wildfire analysis verdict results</p>
</li>
<li><p class="first">Signature coverage for malware verdicts</p>
<blockquote>
<div><ul class="simple">
<li>active: There is a WF/AV sig currently loaded in the firewall</li>
<li>inactive: A signature has been created and is not currently loaded in the firewall</li>
<li>no sig: no signature history for this file sample</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="kibana-dashboard">
<h3>Kibana dashboard<a class="headerlink" href="#kibana-dashboard" title="Permalink to this headline">¶</a></h3>
<p>The Kibana dashboard provides a more interactive view of the output data.</p>
<p>Pan-tort includes importable json elements for Kibana. Users can then extend visualizations and dashboard
as desired using the same source data.</p>
<img alt="_images/dashboard.png" src="_images/dashboard.png" />
</div>
<div class="section" id="text-json-output">
<h3>Text json output<a class="headerlink" href="#text-json-output" title="Permalink to this headline">¶</a></h3>
<p>For quick analysis or sharing, there is a pretty-format json file with all results data. This detailed data extends
beyond the summary stats to include malware family and groups, file types for each sample, and signature details
such as threatname, DNS domains, and create dates.</p>
<img alt="_images/pretty_json.png" src="_images/pretty_json.png" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="output_results.html" class="btn btn-neutral float-right" title="Interpreting the Results" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Prerequisites and Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Scott Shoaf.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>